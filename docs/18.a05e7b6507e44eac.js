"use strict";(self.webpackChunklesson=self.webpackChunklesson||[]).push([[18],{1018:(P,d,c)=>{c.r(d),c.d(d,{CollectionModule:()=>A});var n=c(6895),s=c(6206),t=c(6738),a=c(529);let l=(()=>{class e{constructor(o){this.http=o}getAll(){return this.http.get("https://testologia.ru/tea")}getSearch(o){return this.http.get(`https://testologia.ru/tea?search=${o}`)}getOne(o){return this.http.get(`https://testologia.ru/tea?id=${o}`)}getIds(){let o=[];return this.getAll().subscribe({next:i=>{i.forEach(u=>{o.push(u.id.toString())})}}),o}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(a.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var p=c(5237);function h(e,r){1&e&&(t.TgZ(0,"div",12),t.O4$(),t.TgZ(1,"svg",13)(2,"g",14),t._UZ(3,"path",15),t.qZA()()())}let g=(()=>{class e{constructor(o,i,u,x){this.productService=o,this.activatedRoute=i,this.cartService=u,this.router=x,this.isLoadedData=!1,this.subscribeProduct=null,this.subscribeRoute=null,this.product={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){this.subscribeRoute=this.activatedRoute.params.subscribe({next:o=>{o.id&&(this.subscribeProduct=this.productService.getOne(+o.id).subscribe({next:i=>{this.product=i,this.isLoadedData=!0}}))}})}ngOnDestroy(){this.subscribeRoute?.unsubscribe(),this.subscribeProduct?.unsubscribe()}createOrder(){this.cartService.product=this.product,this.router.navigate(["/order"])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l),t.Y36(s.gz),t.Y36(p.N),t.Y36(s.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-collection"]],decls:18,vars:10,consts:[[1,"pt-5","pb-5"],[1,"container"],[1,"card","mb-3"],[1,"row","g-0"],[1,"col-md-4"],[1,"img-fluid","rounded-start",3,"src","alt"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],["class","loader",4,"ngIf"],[1,"loader"],["width","60","height","60","viewBox","0 0 60 60","fill","none","xmlns","http://www.w3.org/2000/svg",1,"loader_circle_1"],["id","loader_1"],["id","Subtract","fill-rule","evenodd","clip-rule","evenodd","d","M8.7868 8.7868C3.35786 14.2157 0 21.7157 0 30C0 46.5685 13.4315 60 30 60C46.5685 60 60 46.5685 60 30C60 13.4315 46.5685 0 30 0V5.00001C30 5.00001 30.0001 5.00001 30.0001 5.00001C43.8072 5.00001 55.0001 16.1929 55.0001 30C55.0001 43.8071 43.8072 55 30.0001 55C16.193 55 5.00008 43.8071 5.00008 30C5.00008 23.0965 7.79829 16.8465 12.3224 12.3224L8.7868 8.7868Z","fill","#5598FF"]],template:function(o,i){1&o&&(t.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"img",5),t.qZA(),t.TgZ(6,"div",6)(7,"div",7)(8,"h5",8),t._uU(9),t.qZA(),t.TgZ(10,"p",9),t._uU(11),t.qZA(),t.TgZ(12,"p",9),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"a",10),t.NdJ("click",function(){return i.createOrder()}),t._uU(16,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()()()(),t.YNc(17,h,4,0,"div",11)),2&o&&(t.xp6(5),t.s9C("src",i.product.image,t.LSH),t.s9C("alt",i.product.title),t.xp6(4),t.Oqu(i.product.title),t.xp6(2),t.Oqu(i.product.description),t.xp6(2),t.hij(" ",t.Dn7(14,6,i.product.price,"RUB","symbol-narrow")," "),t.xp6(4),t.Q6J("ngIf",!i.isLoadedData))},dependencies:[n.O5,n.H9]}),e})();var C=c(3763);let m=(()=>{class e{transform(o){return o.length>100?o.substring(0,100)+"...":o}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"textCut",type:e,pure:!0}),e})();const b=function(e){return["/catalog",e]};let f=(()=>{class e{constructor(){this.product={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-collection-card"]],inputs:{product:"product"},decls:13,vars:14,consts:[[1,"card",2,"width","100%"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["routerLinkActive","active","ariaCurrentWhenActive","page",1,"btn","btn-primary",3,"routerLink"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"h5",3),t._uU(4),t.qZA(),t.TgZ(5,"p",4),t._uU(6),t.ALo(7,"textCut"),t.qZA(),t.TgZ(8,"p",4),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"a",5),t._uU(12,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()),2&o&&(t.xp6(1),t.s9C("src",i.product.image,t.LSH),t.s9C("alt",i.product.title),t.xp6(3),t.Oqu(i.product.title),t.xp6(2),t.Oqu(t.lcZ(7,6,i.product.description)),t.xp6(3),t.hij(" ",t.Dn7(10,8,i.product.price,"RUB","symbol-narrow")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(12,b,i.product.id)))},dependencies:[s.yS,s.Od,n.H9,m]}),e})();function v(e,r){1&e&&t._UZ(0,"app-collection-card",7),2&e&&t.Q6J("product",r.$implicit)}function Z(e,r){1&e&&(t.TgZ(0,"div",8),t._uU(1,"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"),t.qZA())}function T(e,r){1&e&&(t.TgZ(0,"div",9),t.O4$(),t.TgZ(1,"svg",10)(2,"g",11),t._UZ(3,"path",12),t.qZA()()())}const S=[{path:"catalog",component:(()=>{class e{constructor(o,i){this.productService=o,this.searchService=i,this.isLoadedData=!1,this.titlePage="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438",this.isNotProducts=!1,this.products=[],this.subscribeProducts=null,this.subscribeSearch=null}ngOnInit(){this.subscribeProducts=this.productService.getAll().subscribe({next:o=>{this.products=o,this.isLoadedData=!0,this.titlePage="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"}}),this.subscribeSearch=this.searchService.searchSubject.subscribe({next:o=>{console.log(o),this.subscribeProducts=o.length>0?this.productService.getSearch(o).subscribe({next:i=>{this.products=i,this.isLoadedData=!0,this.titlePage=`\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ${o}`,0===i.length&&(this.isNotProducts=!0)}}):this.productService.getAll().subscribe({next:i=>{this.products=i,this.isLoadedData=!0,this.titlePage="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"}})}})}ngOnDestroy(){this.subscribeSearch?.unsubscribe(),this.subscribeProducts?.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l),t.Y36(C.o))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-collections"]],decls:8,vars:4,consts:[[1,"pt-5","pb-5"],[1,"container"],[1,"text-center"],[1,"row","gy-3","mt-3"],["class","col-4",3,"product",4,"ngFor","ngForOf"],["class","h1 text-center",4,"ngIf"],["class","loader",4,"ngIf"],[1,"col-4",3,"product"],[1,"h1","text-center"],[1,"loader"],["width","60","height","60","viewBox","0 0 60 60","fill","none","xmlns","http://www.w3.org/2000/svg",1,"loader_circle_1"],["id","loader_1"],["id","Subtract","fill-rule","evenodd","clip-rule","evenodd","d","M8.7868 8.7868C3.35786 14.2157 0 21.7157 0 30C0 46.5685 13.4315 60 30 60C46.5685 60 60 46.5685 60 30C60 13.4315 46.5685 0 30 0V5.00001C30 5.00001 30.0001 5.00001 30.0001 5.00001C43.8072 5.00001 55.0001 16.1929 55.0001 30C55.0001 43.8071 43.8072 55 30.0001 55C16.193 55 5.00008 43.8071 5.00008 30C5.00008 23.0965 7.79829 16.8465 12.3224 12.3224L8.7868 8.7868Z","fill","#5598FF"]],template:function(o,i){1&o&&(t.TgZ(0,"main",0)(1,"section",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,v,1,1,"app-collection-card",4),t.YNc(6,Z,2,0,"div",5),t.qZA()()(),t.YNc(7,T,4,0,"div",6)),2&o&&(t.xp6(3),t.Oqu(i.titlePage),t.xp6(2),t.Q6J("ngForOf",i.products),t.xp6(1),t.Q6J("ngIf",i.isNotProducts),t.xp6(1),t.Q6J("ngIf",!i.isLoadedData))},dependencies:[n.sg,n.O5,f]}),e})()},{path:"catalog/:id",component:g}];let y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(S),s.Bz]}),e})(),A=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[l],imports:[n.ez,y,a.JF]}),e})()}}]);