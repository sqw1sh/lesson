"use strict";(self.webpackChunklesson=self.webpackChunklesson||[]).push([[163],{2163:(Y,s,l)=>{l.r(s),l.d(s,{OrderModule:()=>J});var a=l(6895),i=l(6206),n=l(4719),u=l(6738),p=l(5237);let m=(()=>{class r{constructor(){}onlyWord(e){return/^[\u0430-\u044f\u0451\u0410-\u042f\u0401]+$/.test(e.value)?null:{onlyWord:{value:e.value}}}phoneNumber(e){return/^\+{0,1}[0-9]{11}$/.test(e.value)?null:{phoneNumber:{value:e.value}}}address(e){return/^([\u0430-\u044f\u0451\u0410-\u042f\u04010-9 \\\-\,\.])*$/.test(e.value)?null:{address:{value:e.value}}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();var c=l(529);function f(r,t){1&r&&(u.TgZ(0,"h1",5),u._uU(1,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),u.qZA())}function _(r,t){1&r&&(u.TgZ(0,"h2",6),u._uU(1,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA())}function v(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c! '),u.qZA())}function h(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432 (\u0430-\u044f)! '),u.qZA())}function g(r,t){if(1&r&&(u.TgZ(0,"div"),u.YNc(1,v,2,0,"div",19),u.YNc(2,h,2,0,"div",19),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.onlyWord)}}function C(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0424\u0430\u043c\u0438\u043b\u0438\u044f" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c! '),u.qZA())}function Z(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0424\u0430\u043c\u0438\u043b\u0438\u044f" \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432 (\u0430-\u044f)! '),u.qZA())}function E(r,t){if(1&r&&(u.TgZ(0,"div"),u.YNc(1,C,2,0,"div",19),u.YNc(2,Z,2,0,"div",19),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.lastName||null==e.lastName.errors?null:e.lastName.errors.onlyWord)}}function x(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0422\u0435\u043b\u0435\u0444\u043e\u043d" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c! '),u.qZA())}function N(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0422\u0435\u043b\u0435\u0444\u043e\u043d" \u0434\u043e\u043b\u0436\u043d\u043e \u0438\u043c\u0435\u0442\u044c \u0432\u0438\u0434 "99999999999" \u0438\u043b\u0438 "+99999999999"! '),u.qZA())}function A(r,t){if(1&r&&(u.TgZ(0,"div"),u.YNc(1,x,2,0,"div",19),u.YNc(2,N,2,0,"div",19),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.phoneNumber)}}function y(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0421\u0442\u0440\u0430\u043d\u0430" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c! '),u.qZA())}function T(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0418\u043d\u0434\u0435\u043a\u0441" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c! '),u.qZA())}function F(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0422\u0435\u043b\u0435\u0444\u043e\u043d" \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c! '),u.qZA())}function q(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1,' \u041f\u043e\u043b\u0435 "\u0410\u0434\u0440\u0435\u0441" \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b! '),u.qZA())}function b(r,t){if(1&r&&(u.TgZ(0,"div"),u.YNc(1,F,2,0,"div",19),u.YNc(2,q,2,0,"div",19),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.address)}}function B(r,t){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437. "),u.qZA())}function O(r,t){if(1&r){const e=u.EpF();u.TgZ(0,"form",7)(1,"div",8)(2,"label",9),u._uU(3,"\u0418\u043c\u044f"),u.qZA(),u._UZ(4,"input",10),u.YNc(5,g,3,2,"div",11),u.qZA(),u.TgZ(6,"div",8)(7,"label",12),u._uU(8,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(9,"input",13),u.YNc(10,E,3,2,"div",11),u.qZA(),u.TgZ(11,"div",8)(12,"label",14),u._uU(13,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(14,"input",15),u.YNc(15,A,3,2,"div",11),u.qZA(),u.TgZ(16,"div",16)(17,"label",17),u._uU(18,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(19,"input",18),u.YNc(20,y,2,0,"div",19),u.qZA(),u.TgZ(21,"div",16)(22,"label",20),u._uU(23,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(24,"input",21),u.YNc(25,T,2,0,"div",19),u.qZA(),u.TgZ(26,"div",22)(27,"label",23),u._uU(28,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(29,"input",24),u.YNc(30,b,3,2,"div",11),u.qZA(),u.TgZ(31,"div",8)(32,"label",25),u._uU(33,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(34,"input",26),u.qZA(),u.TgZ(35,"div",27)(36,"label",28),u._uU(37,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(38,"textarea",29),u.qZA(),u.TgZ(39,"div",27)(40,"button",30),u.NdJ("click",function(){u.CHM(e);const d=u.oxw();return u.KtG(d.createOrder())}),u._uU(41," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "),u.qZA(),u.YNc(42,B,2,0,"div",19),u.qZA()()}if(2&r){const e=u.oxw();u.Q6J("formGroup",e.form),u.xp6(5),u.Q6J("ngIf",(null==e.name?null:e.name.invalid)&&((null==e.name?null:e.name.touched)||(null==e.name?null:e.name.dirty))),u.xp6(5),u.Q6J("ngIf",(null==e.lastName?null:e.lastName.invalid)&&((null==e.lastName?null:e.lastName.touched)||(null==e.lastName?null:e.lastName.dirty))),u.xp6(5),u.Q6J("ngIf",(null==e.phone?null:e.phone.invalid)&&((null==e.phone?null:e.phone.touched)||(null==e.phone?null:e.phone.dirty))),u.xp6(5),u.Q6J("ngIf",(null==e.country?null:e.country.invalid)&&((null==e.country?null:e.country.touched)||(null==e.country?null:e.country.dirty))&&(null==e.country||null==e.country.errors?null:e.country.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==e.zip?null:e.zip.invalid)&&((null==e.zip?null:e.zip.touched)||(null==e.zip?null:e.zip.dirty))&&(null==e.zip||null==e.zip.errors?null:e.zip.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==e.address?null:e.address.invalid)&&((null==e.address?null:e.address.touched)||(null==e.address?null:e.address.dirty))),u.xp6(10),u.Q6J("disabled",e.form.invalid),u.xp6(2),u.Q6J("ngIf",e.isFailedResponse)}}const U=[{path:"order",component:(()=>{class r{constructor(e,o,d,D){this.cartService=e,this.formValidator=o,this.router=d,this.http=D,this.isFailedResponse=!1,this.isCoolResponse=!1,this.subscribeRequest=null,this.fb=new n.qu,this.form=this.fb.group({name:["",[n.kI.required]],lastName:["",[n.kI.required]],phone:["",[n.kI.required]],country:["",[n.kI.required]],zip:["",[n.kI.required]],address:["",[n.kI.required]],product:[""],comment:[""]})}get name(){return this.form.get("name")}get lastName(){return this.form.get("lastName")}get phone(){return this.form.get("phone")}get country(){return this.form.get("country")}get zip(){return this.form.get("zip")}get address(){return this.form.get("address")}get product(){return this.form.get("product")}get comment(){return this.form.get("comment")}ngOnInit(){this.cartService.product.title.length>0?(this.product?.setValue(this.cartService.product.title),this.name?.addValidators(this.formValidator.onlyWord),this.lastName?.addValidators(this.formValidator.onlyWord),this.phone?.addValidators(this.formValidator.phoneNumber),this.address?.addValidators(this.formValidator.address),this.product?.disable()):this.router.navigate(["/catalog"])}createOrder(){this.subscribeRequest=this.http.post("https://testologia.ru/order-tea",{name:this.name?.value,last_name:this.lastName?.value,phone:this.phone?.value,country:this.country?.value,zip:this.zip?.value,product:this.product?.value,address:this.address?.value,comment:this.comment?.value}).subscribe({next:e=>{e.success?this.isCoolResponse=!0:this.isFailedResponse=!0}})}ngOnDestroy(){this.subscribeRequest?.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(u.Y36(p.N),u.Y36(m),u.Y36(i.F0),u.Y36(c.eN))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-order"]],decls:5,vars:3,consts:[[1,"pt-5","pb-5"],["id","order",1,"container","w-50"],["class","h-1 text-center",4,"ngIf"],["class","text-center mb-3",4,"ngIf"],["class","row g-3","id","form",3,"formGroup",4,"ngIf"],[1,"h-1","text-center"],[1,"text-center","mb-3"],["id","form",1,"row","g-3",3,"formGroup"],[1,"col-12","col-md-4"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],[4,"ngIf"],["for","surname",1,"form-label"],["type","text","id","surname","formControlName","lastName",1,"form-control"],["for","phone",1,"form-label"],["type","text","id","phone","formControlName","phone",1,"form-control"],[1,"col-12","col-md-6"],["for","country",1,"form-label"],["type","text","id","country","formControlName","country",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","index",1,"form-label"],["type","text","id","index","formControlName","zip",1,"form-control"],[1,"col-12","col-md-8"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control"],["for","product",1,"form-label"],["type","text","id","product","formControlName","product",1,"form-control"],[1,"col-12"],["for","comment",1,"form-label"],["id","comment","rows","3","formControlName","comment",1,"form-control"],["type","button","id","submit",1,"btn","btn-primary","px-4","hvr-grow",3,"disabled","click"],[1,"invalid-feedback"]],template:function(e,o){1&e&&(u.TgZ(0,"main",0)(1,"section",1),u.YNc(2,f,2,0,"h1",2),u.YNc(3,_,2,0,"h2",3),u.YNc(4,O,43,9,"form",4),u.qZA()()),2&e&&(u.xp6(2),u.Q6J("ngIf",o.isCoolResponse),u.xp6(1),u.Q6J("ngIf",!o.isCoolResponse),u.xp6(1),u.Q6J("ngIf",!o.isCoolResponse))},dependencies:[a.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),r})()}];let I=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[i.Bz.forChild(U),i.Bz]}),r})(),J=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[m],imports:[a.ez,I,n.UX,c.JF]}),r})()}}]);